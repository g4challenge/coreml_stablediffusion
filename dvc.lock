schema: '2.0'
stages:
  convert_model:
    cmd: python -m python_coreml_stable_diffusion.torch2coreml --convert-unet --convert-text-encoder
      --convert-vae-decoder --convert-safety-checker -o models
    outs:
    - path: models
      md5: 93df63a4f0fba8efa93b51297af4cd9b.dir
      size: 2674410455
      nfiles: 12
  generate_images:
    cmd: python -m python_coreml_stable_diffusion.pipeline --prompt "a photo of an
      astronaut riding a horse on mars" -i models -o data/processed --compute-unit
      ALL --seed 193
    deps:
    - path: models
      md5: 93df63a4f0fba8efa93b51297af4cd9b.dir
      size: 2674410455
      nfiles: 12
    outs:
    - path: data/processed
      md5: 7afcde3cb9a720b3bc8f1ac0551c35bc.dir
      size: 429332
      nfiles: 1
