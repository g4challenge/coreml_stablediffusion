schema: '2.0'
stages:
  convert_model:
    cmd: python -m python_coreml_stable_diffusion.torch2coreml --convert-unet --convert-text-encoder
      --convert-vae-decoder --convert-safety-checker -o models
    outs:
    - path: models
      md5: 93df63a4f0fba8efa93b51297af4cd9b.dir
      size: 2674410455
      nfiles: 12
  generate_images:
    cmd: python -m python_coreml_stable_diffusion.pipeline -i models -o data/processed
      --compute-unit CPU_AND_GPU --seed 193 --prompt 'An ork fighting sonic the hedgehog
      under a bridge'
    deps:
    - path: models
      md5: 93df63a4f0fba8efa93b51297af4cd9b.dir
      size: 2674410455
      nfiles: 12
    params:
      params.yaml:
        prompt: An ork fighting sonic the hedgehog under a bridge
    outs:
    - path: data/processed
      md5: e17998d7826488ea54fde727580f63e3.dir
      size: 445104
      nfiles: 1
